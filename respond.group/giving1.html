{embed="responsive/html_open"}
{embed="responsive/header"}
{embed="responsive/nav"}
<script type="text/javascript" src="/_assets/js/nacd-validation.js"></script>
<script type="text/javascript">
var payment_arr 	= new Array();
//var error_arr		= new Array();
//var insiteuserid = 3;

$(document).ready(function() {
	$(".hideme").hide();
	//toggle the componenet with class msg_body
	$(".showme").click(function() {
		$(this).next(".hideme").slideToggle(500);
	});
	$("#mailing_state_suggestion").change(function() {
		$("#locationstate").val($("#mailing_state_suggestion").val());	
		$("#mailing_state_suggestion").prop('selectedIndex', 0);
	});
	$("#mailing_country_suggestion option[value='"+ $("#locationcountrycode").val()+"']").prop('selected', 'selected');

	$("#paymenttype").change(function() {
		var paymentindex = $("#paymenttype").val();
		console.log ("Selected Index: " + paymentindex);

		clearCCSectionFields();
		clearBASectionFields();

		if (paymentindex == null || paymentindex == '') {
			$("#basection").hide();
			$("#ccsection").hide();
			return false;
		}

		if (paymentindex == "ADD_CC" || paymentindex == "ADD_BA") {
			// Adding a payment
			if (paymentindex == "ADD_CC") {
				$("#basection").hide();
				$("#ccsection").show();

			} else {
				$("#ccsection").hide();
				$("#basection").show();
			}
		} else {
			// Editing a payment
//			var paymenttype = payment_arr[paymentid].paymenttype;
			if (payment_arr[paymentindex].paymenttype == "bankaccount") {
				$("#bankname").val(payment_arr[paymentindex].bankname);
				$("#bankrtnumber").val(payment_arr[paymentindex].routingnumber);
				$("#bankaccttype").val(payment_arr[paymentindex].bankaccounttype);
				$("#bankacctnumber").val("************"+payment_arr[paymentindex].acctnumlast4);
//				$("#bastatus option[value='"+ payment_arr[paymentindex].status +"']").prop('selected', 'selected');

				$("#ccsection").hide();
				$("#basection").show();
			} else {
				$("#cardname").val(payment_arr[paymentindex].nameoncard);
				$("#cardtype").val(payment_arr[paymentindex].creditcardtype);
				$("#cardexpmonth").val(payment_arr[paymentindex].expirationmonth);
				$("#cardexpyear").val(payment_arr[paymentindex].expirationyear);
				$("#cardnumber").val("************"+payment_arr[paymentindex].creditcardlast4);
//				$("#ccstatus option[value='"+ payment_arr[paymentindex].status +"']").prop('selected', 'selected');
				
				$("#basection").hide();
				$("#ccsection").show();
			}

		}
		
		return false;
	});


	$("#submitPayClick").click(function() {
		var paymentindex = $("#pickpaymenttype").val();
		var paymentid = payment_arr[paymentindex].PK_pmtmethod;
		var amount = $("#totalamount").val();
		console.log ("Sending $" + amount + " request with payment id: " + paymentid);

		$.ajax({
			type: "POST",
			url: site_url+'/scripts/ws/webservice.php',
			data: "srv=onetime_online_giving&format=json&email={email}" + "&paymentid="+paymentid+"&firstname="+$("#hiddenfirstname").val()+"&lastname="+$("#hiddenlastname").val()+"&amount="+amount+"&fundcount=2"+"&fundtype0=GEN"+"&fundamount0="+$("#fundamount0").val()+"&fundtype1=MIS"+"&fundamount1="+$("#fundamount1").val()+"&locationstreet="+$("#locationstreet").val()+"&locationcity="+$("#locationcity").val()+"&locationstate="+$("#locationstate").val()+"&locationzip="+$("#locationzip").val()+"&worshipplace="+$("#place_of_worship").val()+"&comments="+$("#comments").val(),
//						async: false,
			dataType: "json",
			success: parseOnetimeOnlineGiving,             
			error: function(jqXHR, textStatus, errorThrown) { alert("Oops, something seems to have gone wrong. Please contact the web minister with the following info: " + textStatus); }
		});
		

	});


	$("#billingAddressClick").click(function() {
		var billingline1 	= $("#locationstreet").val();
		var billingcity 	= $("#locationcity").val();
		var billingstate 	= $("#locationstate").val();
		var billingzip 		= $("#locationzip").val();

		console.log ("Sending address update request with email: {email}");

		$.ajax({
			type: "POST",
			url: site_url+'/scripts/ws/webservice.php',
			data: "srv=update_address_by_email&format=json&email={email}" + "&billingline1="+billingline1+"&billingcity="+billingcity+"&billingstate="+billingstate+"&billingzip="+billingzip,
//						async: false,
			dataType: "json",
			success: parseUpdateAddress,             
			error: function(jqXHR, textStatus, errorThrown) { alert("Oops, something seems to have gone wrong. Please contact the web minister with the following info: " + textStatus); }
		});
		
	});


	$("#paymentMgmtClick").click(function() {
		var paymentindex = $("#paymenttype").val();

		if (paymentindex == null || paymentindex == '') {
			alert ("Select a Payment that you want to change");
			return false;
		}
		
		// Adding a Payment
		if (paymentindex == "ADD_CC" || paymentindex == "ADD_BA")  {
			console.log ("Adding Payment: " + paymentindex);

			var errors = checkPaymentValidation();

			if (errors == null || errors == '') {
				console.log ("Passed Validation");
				if (paymentindex == "ADD_CC") {
					console.log ("Sending ADD_CC request");
					// Add a Credit Card 
					$.ajax({
						type: "POST",
						url: site_url+'/scripts/ws/webservice.php',
						data: "srv=add_payment&format=json&email={email}&paymenttype=creditcard"+"&cardtype="+$("#cardtype").val()+"&cardname="+$("#cardname").val()+"&cardnumber="+$("#cardnumber").val()+"&cardexpmonth="+$("#cardexpmonth").val()+"&cardexpyear="+$("#cardexpyear").val(),
//						async: false,
						dataType: "json",
						success: parseAddPayment,             
						error: function(jqXHR, textStatus, errorThrown) { alert("Oops, something seems to have gone wrong. Please contact the web minister with the following info: " + textStatus); }
					});
					
				} else {
					console.log ("Sending ADD_BA request");
					// Add a Bank Account
					$.ajax({
						type: "POST",
						url: site_url+'/scripts/ws/webservice.php',
						data: "srv=add_payment&format=json&email={email}&paymenttype=bankaccount"+"&bankname="+$("#bankname").val()+"&bankrtnumber="+$("#bankrtnumber").val()+"&bankacctnumber="+$("#bankacctnumber").val()+"&bankaccttype="+$("#bankaccttype").val(),
//						async: false,
						dataType: "json",
						success: parseAddPayment,             
						error: function(jqXHR, textStatus, errorThrown) { alert("Oops, something seems to have gone wrong. Please contact the web minister with the following info: " + textStatus); }
					});
					
				}
			}
			else 
				// Display errors for Payment Validation
				alert (errors.join("\r\n"));

			return false;
		}

		var paymentid = payment_arr[paymentindex].PK_pmtmethod;
		
		if ($("#bastatus").is(":checked") || $("#ccstatus").is(":checked")) {
			// Deleting the Payment
			alert ("You chose to make this payment inactive.");
			// Send payment inactive request to the Server
			$.ajax({
				type: "POST",
				url: site_url+'/scripts/ws/webservice.php',
				data: "srv=delete_payment&format=json&paymentid=" + paymentid + "&status=deleted",
//				async: false,
				dataType: "json",
				success: parseDeletePayment,             
				error: function(jqXHR, textStatus, errorThrown) { alert("Oops, something seems to have gone wrong. Please contact the web minister with the following info: " + textStatus); }
			});
			
		} else {
			// Updating the Payment 
			console.log ("Updating " + paymentid);
			// Needs to validate each field
			var errors = checkPaymentValidation();

			if (errors == null || errors == '') {
				console.log ("Passed Validation");

				if (payment_arr[paymentindex].paymenttype == "bankaccount") {
					console.log ("Sending Bank Account updating request...");
					// Updating Bank Account 
					$.ajax({
						type: "POST",
						url: site_url+'/scripts/ws/webservice.php',
						data: "srv=update_payment&format=json&paymentid="+paymentid+"&paymenttype=bankaccount"+"&bankname="+$("#bankname").val()+"&bankrtnumber="+$("#bankrtnumber").val()+"&bankacctnumber="+$("#bankacctnumber").val()+"&bankaccttype="+$("#bankaccttype").val(),
//						async: false,
						dataType: "json",
						success: parseUpdatePayment,             
						error: function(jqXHR, textStatus, errorThrown) { alert("Oops, something seems to have gone wrong. Please contact the web minister with the following info: " + textStatus); }
					});
					
				} else {
					console.log ("Sending Credit Card updating request...");
					// Updating Credit Card 
					$.ajax({
						type: "POST",
						url: site_url+'/scripts/ws/webservice.php',
						data: "srv=update_payment&format=json&paymentid="+paymentid+"&paymenttype=creditcard"+"&cardtype="+$("#cardtype").val()+"&cardname="+$("#cardname").val()+"&cardnumber="+$("#cardnumber").val()+"&cardexpmonth="+$("#cardexpmonth").val()+"&cardexpyear="+$("#cardexpyear").val(),
//						async: false,
						dataType: "json",
						success: parseUpdatePayment,             
						error: function(jqXHR, textStatus, errorThrown) { alert("Oops, something seems to have gone wrong. Please contact the web minister with the following info: " + textStatus); }
					});
					
				}
			}
			else 
				alert (errors.join("\r\n"));

		}
		
	});	


	$.ajax({
		type: "POST",
		url: site_url+'/scripts/ws/webservice.php',
		data: "srv=get_payments_by_email"+"&format=json"+"&email={email}",
		async: false,
		dataType: "json",
		success: parseGetPayments,             // name of the function to call upon success
		error: function(jqXHR, textStatus, errorThrown) { alert("Oops, something seems to have gone wrong. Please contact the web minister with the following info: " + textStatus); }
	});

	$.ajax({
		type: "POST",
		url: site_url+'/scripts/ws/webservice.php',
		data: "srv=get_user_by_email"+"&format=json"+"&email={email}",
		async: false,
		dataType: "json",
		success: parseGetUser,             // name of the function to call upon success
		error: function(jqXHR, textStatus, errorThrown) { alert("Oops, something seems to have gone wrong. Please contact the web minister with the following info: " + textStatus); }
	});

	
})


function parseOnetimeOnlineGiving(data) 
{ 
//	console.log ("Success");

	var jsonObj = $.parseJSON(data);
	console.log (data);

	error_len = jsonObj.northland_api[1].errors.length;
	if (error_len > 0) {
		var error_arr = jsonObj.northland_api[1].errors;
		var error_message = '';
		for (var i=0; i<error_len; i++)
			error_message += error_arr[i].number + ": " + error_arr[i].type + " - " + error_arr[i].message + "\n";
		alert (error_message);
	} else {
		var transaction = jsonObj.northland_api[2].response.transactions;

		if (jsonObj.northland_api[2].response.error != null) {
			var error_arr = jsonObj.northland_api[2].response.error;
			var error_message = error_arr.number + ": " + error_arr.type + " - " + error_arr.message ;
			alert (error_message);
		} else {
			if (transaction[0].statuscode == 'G') {
				console.log ("Complete Giving with the amount of " + transaction[0].amount);
				console.log ("Reference Number:  " + transaction[0].reference);
			} else {
				console.log ("There is a problem in Giving with this error code: " + transaction[0].response);
			}
			//////////////////////////////////////////////////////////////////
			// 							Send Email?							//
			//////////////////////////////////////////////////////////////////
		}
	}

}



function parseGetUser(data) 
{ 
	var jsonObj = $.parseJSON(data);
	
	error_len = jsonObj.northland_api[1].errors.length;
	if (error_len > 0) {
		var error_arr = jsonObj.northland_api[1].errors;
		var error_message = '';
		for (var i=0; i<error_len; i++)
			error_message += error_arr[i].number + ": " + error_arr[i].type + " - " + error_arr[i].message + "\n";
		alert (error_message);
	} else {
		var user = jsonObj.northland_api[2].response.users;

		if (jsonObj.northland_api[2].response.error != null) {
			var error_arr = jsonObj.northland_api[2].response.error;
			var error_message = error_arr.number + ": " + error_arr.type + " - " + error_arr.message ;
			alert (error_message);
		} else {
			$("#locationstreet").val(user[0].billingline1);
			$("#locationcity").val(user[0].billingcity);
			$("#locationstate").val(user[0].billingstate);
			$("#locationzip").val(user[0].billingzip);
		}
	}
}


function parseUpdateAddress(data) 
{ 
	var jsonObj = $.parseJSON(data);
//	console.log (data);

	error_len = jsonObj.northland_api[1].errors.length;
	if (error_len > 0) {
		var error_arr = jsonObj.northland_api[1].errors;
		var error_message = '';
		for (var i=0; i<error_len; i++)
			error_message += error_arr[i].number + ": " + error_arr[i].type + " - " + error_arr[i].message + "\n";
		alert (error_message);
	} else {
		var address = jsonObj.northland_api[2].response.addresses;

		if (jsonObj.northland_api[2].response.error != null) {
			var error_arr = jsonObj.northland_api[2].response.error;
			var error_message = error_arr.number + ": " + error_arr.type + " - " + error_arr.message ;
			alert (error_message);
		} else {
			console.log("Street: " + address[0].billingline1);
			console.log("City: " + address[0].billingcity);
			console.log("State: " + address[0].billingstate);
			console.log("Zip: " + address[0].billingzip);
			alert ("Your billing address has been updated");

//			$("#locationstreet").val(user[0].billingaddrline1);
//			$("#locationcity").val(user[0].billingcity);
//			$("#locationstate").val(user[0].billingstate);
//			$("#locationzip").val(user[0].billingzipcode);

		}
	}

}




function parseGetPayments(data) 
{ 
	var jsonObj = $.parseJSON(data);
	
	error_len = jsonObj.northland_api[1].errors.length;
	if (error_len > 0) {
		var error_arr = jsonObj.northland_api[1].errors;
		var error_message = '';
		for (var i=0; i<error_len; i++)
			error_message += error_arr[i].number + ": " + error_arr[i].type + " - " + error_arr[i].message + "\n";
		alert (error_message);

	} else {
		payment_arr = jsonObj.northland_api[2].response.payments;
//		var error_arr = jsonObj.northland_api[2].response.error;
//		console.log ("Error: " + error_arr.message);
		var htmlEntity	= $("#paymenttype").html();
		var htmlEntity1	= $("#pickpaymenttype").html();

		for(var i=0; i<payment_arr.length; i++) {
			htmlEntity +=  '<option value="' + i+ '">';
			htmlEntity1 +=  '<option value="' + i + '">';

			if (payment_arr[i].paymenttype == 'bankaccount') {
				htmlEntity += payment_arr[i].bankname + " ending with " + payment_arr[i].acctnumlast4 + "</option>";
				htmlEntity1 += payment_arr[i].bankname + " ending with " + payment_arr[i].acctnumlast4 + "</option>";
			} else {
				htmlEntity += payment_arr[i].creditcardtype + " ending with " + payment_arr[i].creditcardlast4 + "</option>";
				htmlEntity1 += payment_arr[i].creditcardtype + " ending with " + payment_arr[i].creditcardlast4 + "</option>";
			}
		}

//		console.log("htmlEntity: " + htmlEntity);
		$("#paymenttype").html(htmlEntity);
		$("#pickpaymenttype").html(htmlEntity1);
	}

//	alert(jsonObj.northland_api[0].request.parameters.srv);
}

function parseUpdatePayment(data) 
{ 
	var jsonObj = $.parseJSON(data);
//	console.log (data);

	error_len = jsonObj.northland_api[1].errors.length;
	if (error_len > 0) {
		var error_arr = jsonObj.northland_api[1].errors;
		var error_message = '';
		for (var i=0; i<error_len; i++)
			error_message += error_arr[i].number + ": " + error_arr[i].type + " - " + error_arr[i].message + "\n";
		alert (error_message);
	} else {
		var updated_payment = jsonObj.northland_api[2].response.payments;

		if (jsonObj.northland_api[2].response.error != null) {
			var error_arr = jsonObj.northland_api[2].response.error;
			var error_message = error_arr.number + ": " + error_arr.type + " - " + error_arr.message ;
			alert (error_message);
		} else {
			console.log ("Success to update payment with ID: " + updated_payment[0].PK_pmtmethod);

			var htmlEntity	= "";
			var htmlEntity1	= "";
			htmlEntity += '<option value="">Select...</option>';
			htmlEntity += '<option value="ADD_CC">Add a Credit Card</option>';
			htmlEntity += '<option value="ADD_BA">Add a Bank Account</option>';
			htmlEntity1 += '<option value="">Select...</option>';
			
			for(var i=0; i<payment_arr.length; i++) 
			{
				if (payment_arr[i].PK_pmtmethod == updated_payment[0].PK_pmtmethod) {
					payment_arr[i] = updated_payment[0];
				} 
				htmlEntity +=  '<option value="' + i+ '">';
				htmlEntity1 +=  '<option value="' + i + '">';
	
				if (payment_arr[i].paymenttype == 'bankaccount') {
					htmlEntity += payment_arr[i].bankname + " ending with " + payment_arr[i].acctnumlast4 + "</option>";
					htmlEntity1 += payment_arr[i].bankname + " ending with " + payment_arr[i].acctnumlast4 + "</option>";
				} else {
					htmlEntity += payment_arr[i].creditcardtype + " ending with " + payment_arr[i].creditcardlast4 + "</option>";
					htmlEntity1 += payment_arr[i].creditcardtype + " ending with " + payment_arr[i].creditcardlast4 + "</option>";
				}
			}
	
//			console.log("htmlEntity: " + htmlEntity);
			$("#paymenttype").html(htmlEntity);
			$("#pickpaymenttype").html(htmlEntity1);
	
		}
	}

}

function parseDeletePayment(data) 
{ 
	var jsonObj = $.parseJSON(data);

	error_len = jsonObj.northland_api[1].errors.length;
	if (error_len > 0) {
		var error_arr = jsonObj.northland_api[1].errors;
		var error_message = '';
		for (var i=0; i<error_len; i++)
			error_message += error_arr[i].number + ": " + error_arr[i].type + " - " + error_arr[i].message + "\n";
		alert (error_message);
	} else {
		var deleted_payment = jsonObj.northland_api[2].response.payments;
//		console.log ("Deleted Payment ID: " + deleted_payment[0].PK_pmtmethod);

		if (jsonObj.northland_api[2].response.error != null) {
			var error_arr = jsonObj.northland_api[2].response.error;
			var error_message = error_arr.number + ": " + error_arr.type + " - " + error_arr.message ;
			alert (error_message);
		} else {
			console.log ("Success to delete payment with ID: " + deleted_payment[0].PK_pmtmethod);

			var htmlEntity	= "";
			var htmlEntity1	= "";
			htmlEntity += '<option value="">Select...</option>';
			htmlEntity += '<option value="ADD_CC">Add a Credit Card</option>';
			htmlEntity += '<option value="ADD_BA">Add a Bank Account</option>';
			htmlEntity1 += '<option value="">Select...</option>';
			
			for(var i=0; i<payment_arr.length; i++) {
				if (payment_arr[i].PK_pmtmethod == deleted_payment[0].PK_pmtmethod) {
					payment_arr.splice (i, 1);		// At position i, remove 1 item. 
				} else {
					htmlEntity +=  '<option value="' + i+ '">';
					htmlEntity1 +=  '<option value="' + i + '">';
		
					if (payment_arr[i].paymenttype == 'bankaccount') {
						htmlEntity += payment_arr[i].bankname + " ending with " + payment_arr[i].acctnumlast4 + "</option>";
						htmlEntity1 += payment_arr[i].bankname + " ending with " + payment_arr[i].acctnumlast4 + "</option>";
					} else {
						htmlEntity += payment_arr[i].creditcardtype + " ending with " + payment_arr[i].creditcardlast4 + "</option>";
						htmlEntity1 += payment_arr[i].creditcardtype + " ending with " + payment_arr[i].creditcardlast4 + "</option>";
					}
				}
			}
	
//			console.log("htmlEntity: " + htmlEntity);
			$("#paymenttype").html(htmlEntity);
			$("#pickpaymenttype").html(htmlEntity1);
	
		}
	}

}

function parseAddPayment(data) 
{ 
//	console.log ("Success");

	var jsonObj = $.parseJSON(data);
	console.log (data);
	
	error_len = jsonObj.northland_api[1].errors.length;
	if (error_len > 0) {
		var error_arr = jsonObj.northland_api[1].errors;
		var error_message = '';
		for (var i=0; i<error_len; i++)
			error_message += error_arr[i].number + ": " + error_arr[i].type + " - " + error_arr[i].message + "\n";
		alert (error_message);
	} else {
		var added_payment = jsonObj.northland_api[2].response.payments;

		if (jsonObj.northland_api[2].response.error != null) {
			var error_arr = jsonObj.northland_api[2].response.error;
			var error_message = error_arr.number + ": " + error_arr.type + " - " + error_arr.message ;
			alert (error_message);
		} else {
			console.log ("Success to add payment with ID: " + added_payment[0].PK_pmtmethod);

			var htmlEntity	= $("#paymenttype").html();;
			var htmlEntity1	= $("#pickpaymenttype").html();
//			htmlEntity += '<option value="">Select...</option>';
//			htmlEntity += '<option value="ADD_CC">Add a Credit Card</option>';
//			htmlEntity += '<option value="ADD_BA">Add a Bank Account</option>';
//			htmlEntity1 += '<option value="">Select...</option>';
			
//			payment_arr[arr_len] = new Array();
			payment_arr.push (added_payment[0]);
			var arr_len = payment_arr.length - 1;
			console.log ("Array Len: " + arr_len);

				htmlEntity +=  '<option value="' + arr_len+ '">';
				htmlEntity1 +=  '<option value="' + arr_len + '">';

				if (added_payment[0].paymenttype == 'bankaccount') {
					htmlEntity += added_payment[0].bankname + " ending with " + added_payment[0].acctnumlast4 + "</option>";
					htmlEntity1 += added_payment[0].bankname + " ending with " + added_payment[0].acctnumlast4 + "</option>";
				} else {
					htmlEntity += added_payment[0].creditcardtype + " ending with " + added_payment[0].creditcardlast4 + "</option>";
					htmlEntity1 += added_payment[0].creditcardtype + " ending with " + added_payment[0].creditcardlast4 + "</option>";
				}

			console.log("htmlEntity: " + htmlEntity);
			$("#paymenttype").html(htmlEntity);
			$("#pickpaymenttype").html(htmlEntity1);
	
		}
	}
}

function checkPaymentValidation()
{
	var errors = new Array();
	var paymentid = $("#paymenttype").val();

	if (paymentid == "ADD_CC" || paymentid == "ADD_BA")  
	{
		if (paymentid == "ADD_CC") {
			console.log ("Check Credit Card Validation");
			if ($("#cardtype").val() == null || $("#cardtype").val() == '') {
				errors.push ("Select Credit Card Type");
			}
			if ($("#cardnumber").val() == null || $("#cardnumber").val() == '') {
				errors.push ("Enter Credit Card Number");
			} 
			console.log ("Card #: " + $("#cardnumber").val());
			if ($("#cardtype").val() != null && $("#cardtype").val() != '' && $("#cardnumber").val() != null && $("#cardnumber").val() != '') {
				if (!isValidCreditCardNumber($("#cardnumber").val(), $("#cardtype").val())) 
					errors.push (ccErrors[ccErrorNo]);
			}
			if ($("#cardname").val() == null || $("#cardname").val() == '') {
				errors.push ("Enter Credit Card Holder Name");
			}
			if ($("#cardexpmonth").val() == null || $("#cardexpmonth").val() == '') {
				errors.push ("Select Expiration Month");
			}
			if ($("#cardexpyear").val() == null || $("#cardexpyear").val() == '') {
				errors.push ("Select Expiration Year");
			}
		} else {
			console.log ("Check Bank Account Validation");
			if ($("#bankname").val() == null || $("#bankname").val() == '') {
				errors.push ("Enter Bank Name");
			}
			if ($("#bankrtnumber").val() == null || $("#bankrtnumber").val() == '') {
				errors.push ("Enter Routing Number");
			}
			if ($("#bankacctnumber").val() == null || $("#bankacctnumber").val() == '') {
				errors.push ("Enter Account Number");
			} else {
				if (!checkBankAccount($("#bankacctnumber").val())) 
					errors.push (ccErrors[ccErrorNo]);
			}
			if ($("#bankaccttype").val() == null || $("#bankaccttype").val() == '') {
				errors.push ("Select Account Type");
			}
		}
	} 
	else {
		if (payment_arr[paymentid].paymenttype == "creditcard") {
			console.log ("Check Credit Card Validation");
			if ($("#cardtype").val() == null || $("#cardtype").val() == '') {
				errors.push ("Select Credit Card Type");
			}
			if ($("#cardnumber").val() == null || $("#cardnumber").val() == '') {
				errors.push ("Enter Credit Card Number");
			} 
			if ($("#cardtype").val() != null && $("#cardtype").val() != '' && $("#cardnumber").val() != null && $("#cardnumber").val() != '') {
				if (!isValidCreditCardNumber($("#cardnumber").val(), $("#cardtype").val())) 
					errors.push (ccErrors[ccErrorNo]);
			}
			if ($("#cardname").val() == null || $("#cardname").val() == '') {
				errors.push ("Enter Credit Card Holder Name");
			}
			if ($("#cardexpmonth").val() == null || $("#cardexpmonth").val() == '') {
				errors.push ("Select Expiration Month");
			}
			if ($("#cardexpyear").val() == null || $("#cardexpyear").val() == '') {
				errors.push ("Select Expiration Year");
			}
		} else {	// payment_arr[paymentid].paymenttype == "bankaccount"
			console.log ("Check Bank Account Validation");
			if ($("#bankname").val() == null || $("#bankname").val() == '') {
				errors.push ("Enter Bank Name");
			}
			if ($("#bankrtnumber").val() == null || $("#bankrtnumber").val() == '') {
				errors.push ("Enter Routing Number");
			}
			if ($("#bankacctnumber").val() == null || $("#bankacctnumber").val() == '') {
				errors.push ("Enter Account Number");
			} else {
				if (!checkBankAccount($("#bankacctnumber").val())) 
					errors.push (ccErrors[ccErrorNo]);
			}
			if ($("#bankaccttype").val() == null || $("#bankaccttype").val() == '') {
				errors.push ("Select Account Type");
			}
		}
	}
	
	return errors;	
}

function clearCCSectionFields()
{
	$("#cardname").val("");
	$("#cardtype").prop('selectedIndex', 0);
	$("#cardexpmonth").prop('selectedIndex', 0);
	$("#cardexpyear").prop('selectedIndex', 0);
	$("#cardnumber").val("");
//	$("#ccstatus").prop('selectedIndex', 0);
	$("#ccstatus").attr('checked', false);
}

function clearBASectionFields()
{
	$("#bankname").val("");
	$("#bankrtnumber").val("");
	$("#bankaccttype").prop('selectedIndex', 0);
	$("#bankacctnumber").val("");
//	$("#bastatus").prop('selectedIndex', 0);
	$("#bastatus").attr('checked', false);
}

</script>

<div id="title-bar">
	<input type="hidden" id="ee_member_id" name="ee_member_id" value="{member_id}" />
	<input type="hidden" id="current_email" name="current_email" value="{email}" />
	<div class="top"></div>
	<div class="container_12">
		<div class="grid_12">
			<h1>{if logged_in}Online Giving{if:else}Login to Give Online{/if}</h1>
		</div>
		<div class="clear"></div>
	</div>
	<div class="btm"></div>
</div>

<div class="container_12">
	{if logged_in}
	<div class="container_12">
		<div class="grid_8">
					
			<div id="profile-live_view">
				<div class="grid_5 nomarg">
					<h2 style="border-bottom:none;margin-bottom:0;">{screen_name}</h2>
					<p><b>E-mail Address: </b>{email}</p>
					<br>
				</div>

				{!--EDIT VERSION --}
<!--				{exp:user:edit}	 -->
				<div class="grid_5 nomarg">
								
					<script type="text/javascript">
						var flag_edit_firstname = 1;
					 	var flag_edit_lastname = 1;
							
						$(document).ready(function() {	
						//Parses name into first and last name. Finds last space to keep double names in the first name field together.
						//Unhyphenated double last names effectively disallowed
										
							var wName = "{screen_name}";
							var spacePos = wName.lastIndexOf(" ");	
							var fName = wName.substring(0,spacePos);	
							var lName = wName.substring(spacePos+1,wName.length);		

							$("#hiddenfirstname").val(fName);
							$("#hiddenlastname").val(lName);
						});
					</script>
								
                    <h2>Billing Information</h2>
                    <div class="clear"></div>
					<input type="hidden" id="hiddenfirstname" name="hiddenfirstname" />
                    <input type="hidden" id="hiddenlastname" name="hiddenlastname" />
                    <div class="clear"></div>									
<!--                    <div class="editprofile_subtitle">Name:</div><p><span id="billingname" name="billingname"></span></p> -->
                    <div class="editprofile_subtitle">Street:</div><p><input id="locationstreet" name="locationstreet" value="" ></p>
                    <div class="editprofile_subtitle">City:</div><p><input id="locationcity" name="locationcity" value="" ></p>
                    <div class="editprofile_subtitle">State:</div><p><input id="locationstate" name="locationstate"  value="" size="3" maxlength="5"></p>
                    <div class="editprofile_subtitle">Pick: </div><p><select id="mailing_state_suggestion" name="mailing_state_suggestion">
                    <option value="">Select...</option>
                    <optgroup label="United States"><option value="AL">AL</option>
                    <option value="AK">AK</option>
                    <option value="AZ">AZ</option>
                    <option value="AR">AR</option>
                    <option value="CA">CA</option>
                    <option value="CO">CO</option>
                    <option value="CT">CT</option>
                    <option value="DE">DE</option>
                    <option value="DC">DC</option>
                    <option value="FL">FL</option>
                    <option value="GA">GA</option>
                    <option value="HI">HI</option>
                    <option value="ID">ID</option>
                    <option value="IL">IL</option>
                    <option value="IN">IN</option>
                    <option value="IA">IA</option>
                    <option value="KS">KS</option>
                    <option value="KY">KY</option>
                    <option value="LA">LA</option>
                    <option value="ME">ME</option>
                    <option value="MD">MD</option>
                    <option value="MA">MA</option>
                    <option value="MI">MI</option>
                    <option value="MN">MN</option>
                    <option value="MS">MS</option>
                    <option value="MO">MO</option>
                    <option value="MT">MT</option>
                    <option value="NE">NE</option>
                    <option value="NV">NV</option>
                    <option value="NH">NH</option>
                    <option value="NJ">NJ</option>
                    <option value="NM">NM</option>
                    <option value="NY">NY</option>
                    <option value="NC">NC</option>
                    <option value="ND">ND</option>
                    <option value="OH">OH</option>
                    <option value="OK">OK</option>
                    <option value="OR">OR</option>
                    <option value="PA">PA</option>
                    <option value="RI">RI</option>
                    <option value="SC">SC</option>
                    <option value="SD">SD</option>
                    <option value="TN">TN</option>
                    <option value="TX">TX</option>
                    <option value="UT">UT</option>
                    <option value="VT">VT</option>
                    <option value="VA">VA</option>
                    <option value="WA">WA</option>
                    <option value="WV">WV</option>
                    <option value="WI">WI</option>
                    <option value="WY">WY</option>
                    </optgroup></select></p>                                    
                    <div class="clear"></div>
                    <div class="editprofile_subtitle">Zip Code:</div><p><input id="locationzip" name="locationzip" value=""></p>
<!--
                    <input type="hidden" id="locationcountrycode" name="locationcountrycode" value="{countrycode}">
                    <div class="editprofile_subtitle">Country:</div><p>
                    <select id="mailing_country_suggestion" name="mailing_country_suggestion" style="width:100px;">
                    <option value="" SELECTED>Choose...</option>
                    <option value="AF">Afghanistan</option>
                    <option value="AL">Albania</option>
                    <option value="DZ">Algeria</option>
                    <option value="AS">American Samoa</option>
                    <option value="AD">Andorra</option>
                    <option value="AO">Angola</option>
                    <option value="AI">Anguilla</option>
                    <option value="AQ">Antarctica</option>
                    <option value="AG">Antigua and Barbuda</option>
                    <option value="AR">Argentina</option>
                    <option value="AM">Armenia</option>
                    <option value="AW">Aruba</option>
                    <option value="AU">Australia</option>
                    <option value="AT">Austria</option>
                    <option value="AZ">Azerbaijan</option>
                    <option value="BS">Bahamas</option>
                    <option value="BH">Bahrain</option>
                    <option value="BD">Bangladesh</option>
                    <option value="BB">Barbados</option>
                    <option value="BY">Belarus</option>
                    <option value="BE">Belgium</option>
                    <option value="BZ">Belize</option>
                    <option value="BJ">Benin</option>
                    <option value="BM">Bermuda</option>
                    <option value="BT">Bhutan</option>
                    <option value="BO">Bolivia</option>
                    <option value="BA">Bosnia and Herzegovina</option>
                    <option value="BW">Botswana</option>
                    <option value="BV">Bouvet Island</option>
                    <option value="BR">Brazil</option>
                    <option value="IO">British Indian Ocean Territory</option>
                    <option value="BN">Brunei Darussalam</option>
                    <option value="BG">Bulgaria</option>
                    <option value="BF">Burkina Faso</option>
                    <option value="BI">Burundi</option>
                    <option value="KH">Cambodia</option>
                    <option value="CM">Cameroon</option>
                    <option value="CA">Canada</option>
                    <option value="CV">Cape Verde</option>
                    <option value="KY">Cayman Islands</option>
                    <option value="CF">Central African Republic</option>
                    <option value="TD">Chad</option>
                    <option value="CL">Chile</option>
                    <option value="CN">China</option>
                    <option value="CX">Christmas Island</option>
                    <option value="CC">Cocos (Keeling) Islands</option>
                    <option value="CO">Colombia</option>
                    <option value="KM">Comoros</option>
                    <option value="CG">Congo</option>
                    <option value="CD">Congo, the Democratic Republic of the</option>
                    <option value="CK">Cook Islands</option>
                    <option value="CR">Costa Rica</option>
                    <option value="CI">Cote D'Ivoire</option>
                    <option value="HR">Croatia</option>
                    <option value="CU">Cuba</option>
                    <option value="CY">Cyprus</option>
                    <option value="CZ">Czech Republic</option>
                    <option value="DK">Denmark</option>
                    <option value="DJ">Djibouti</option>
                    <option value="DM">Dominica</option>
                    <option value="DO">Dominican Republic</option>
                    <option value="EC">Ecuador</option>
                    <option value="EG">Egypt</option>
                    <option value="SV">El Salvador</option>
                    <option value="GQ">Equatorial Guinea</option>
                    <option value="ER">Eritrea</option>
                    <option value="EE">Estonia</option>
                    <option value="ET">Ethiopia</option>
                    <option value="FK">Falkland Islands (Malvinas)</option>
                    <option value="FO">Faroe Islands</option>
                    <option value="FJ">Fiji</option>
                    <option value="FI">Finland</option>
                    <option value="FR">France</option>
                    <option value="GF">French Guiana</option>
                    <option value="PF">French Polynesia</option>
                    <option value="TF">French Southern Territories</option>
                    <option value="GA">Gabon</option>
                    <option value="GM">Gambia</option>
                    <option value="GE">Georgia</option>
                    <option value="DE">Germany</option>
                    <option value="GH">Ghana</option>
                    <option value="GI">Gibraltar</option>
                    <option value="GR">Greece</option>
                    <option value="GL">Greenland</option>
                    <option value="GD">Grenada</option>
                    <option value="GP">Guadeloupe</option>
                    <option value="GU">Guam</option>
                    <option value="GT">Guatemala</option>
                    <option value="GN">Guinea</option>
                    <option value="GW">Guinea-Bissau</option>
                    <option value="GY">Guyana</option>
                    <option value="HT">Haiti</option>
                    <option value="HM">Heard Island and Mcdonald Islands</option>
                    <option value="VA">Holy See (Vatican City State)</option>
                    <option value="HN">Honduras</option>
                    <option value="HK">Hong Kong</option>
                    <option value="HU">Hungary</option>
                    <option value="IS">Iceland</option>
                    <option value="IN">India</option>
                    <option value="ID">Indonesia</option>
                    <option value="IR">Iran, Islamic Republic of</option>
                    <option value="IQ">Iraq</option>
                    <option value="IE">Ireland</option>
                    <option value="IL">Israel</option>
                    <option value="IT">Italy</option>
                    <option value="JM">Jamaica</option>
                    <option value="JP">Japan</option>
                    <option value="JO">Jordan</option>
                    <option value="KZ">Kazakhstan</option>
                    <option value="KE">Kenya</option>
                    <option value="KI">Kiribati</option>
                    <option value="KP">Korea, Democratic People's Republic of</option>
                    <option value="KR">Korea, Republic of</option>
                    <option value="KW">Kuwait</option>
                    <option value="KG">Kyrgyzstan</option>
                    <option value="LA">Lao People's Democratic Republic</option>
                    <option value="LV">Latvia</option>
                    <option value="LB">Lebanon</option>
                    <option value="LS">Lesotho</option>
                    <option value="LR">Liberia</option>
                    <option value="LY">Libyan Arab Jamahiriya</option>
                    <option value="LI">Liechtenstein</option>
                    <option value="LT">Lithuania</option>
                    <option value="LU">Luxembourg</option>
                    <option value="MO">Macao</option>
                    <option value="MK">Macedonia, the Former Yugoslav Republic of</option>
                    <option value="MG">Madagascar</option>
                    <option value="MW">Malawi</option>
                    <option value="MY">Malaysia</option>
                    <option value="MV">Maldives</option>
                    <option value="ML">Mali</option>
                    <option value="MT">Malta</option>
                    <option value="MH">Marshall Islands</option>
                    <option value="MQ">Martinique</option>
                    <option value="MR">Mauritania</option>
                    <option value="MU">Mauritius</option>
                    <option value="YT">Mayotte</option>
                    <option value="MX">Mexico</option>
                    <option value="FM">Micronesia, Federated States of</option>
                    <option value="MD">Moldova, Republic of</option>
                    <option value="MC">Monaco</option>
                    <option value="MN">Mongolia</option>
                    <option value="MS">Montserrat</option>
                    <option value="MA">Morocco</option>
                    <option value="MZ">Mozambique</option>
                    <option value="MM">Myanmar</option>
                    <option value="NA">Namibia</option>
                    <option value="NR">Nauru</option>
                    <option value="NP">Nepal</option>
                    <option value="NL">Netherlands</option>
                    <option value="AN">Netherlands Antilles</option>
                    <option value="NC">New Caledonia</option>
                    <option value="NZ">New Zealand</option>
                    <option value="NI">Nicaragua</option>
                    <option value="NE">Niger</option>
                    <option value="NG">Nigeria</option>
                    <option value="NU">Niue</option>
                    <option value="NF">Norfolk Island</option>
                    <option value="MP">Northern Mariana Islands</option>
                    <option value="NO">Norway</option>
                    <option value="OM">Oman</option>
                    <option value="PK">Pakistan</option>
                    <option value="PW">Palau</option>
                    <option value="PS">Palestinian Territory, Occupied</option>
                    <option value="PA">Panama</option>
                    <option value="PG">Papua New Guinea</option>
                    <option value="PY">Paraguay</option>
                    <option value="PE">Peru</option>
                    <option value="PH">Philippines</option>
                    <option value="PN">Pitcairn</option>
                    <option value="PL">Poland</option>
                    <option value="PT">Portugal</option>
                    <option value="PR">Puerto Rico</option>
                    <option value="QA">Qatar</option>
                    <option value="RE">Reunion</option>
                    <option value="RO">Romania</option>
                    <option value="RU">Russian Federation</option>
                    <option value="RW">Rwanda</option>
                    <option value="SH">Saint Helena</option>
                    <option value="KN">Saint Kitts and Nevis</option>
                    <option value="LC">Saint Lucia</option>
                    <option value="PM">Saint Pierre and Miquelon</option>
                    <option value="VC">Saint Vincent and the Grenadines</option>
                    <option value="WS">Samoa</option>
                    <option value="SM">San Marino</option>
                    <option value="ST">Sao Tome and Principe</option>
                    <option value="SA">Saudi Arabia</option>
                    <option value="SN">Senegal</option>
                    <option value="CS">Serbia and Montenegro</option>
                    <option value="SC">Seychelles</option>
                    <option value="SL">Sierra Leone</option>
                    <option value="SG">Singapore</option>
                    <option value="SK">Slovakia</option>
                    <option value="SI">Slovenia</option>
                    <option value="SB">Solomon Islands</option>
                    <option value="SO">Somalia</option>
                    <option value="ZA">South Africa</option>
                    <option value="GS">South Georgia and the South Sandwich Islands</option>
                    <option value="ES">Spain</option>
                    <option value="LK">Sri Lanka</option>
                    <option value="SD">Sudan</option>
                    <option value="SR">Suriname</option>
                    <option value="SJ">Svalbard and Jan Mayen</option>
                    <option value="SZ">Swaziland</option>
                    <option value="SE">Sweden</option>
                    <option value="CH">Switzerland</option>
                    <option value="SY">Syrian Arab Republic</option>
                    <option value="TW">Taiwan, Province of China</option>
                    <option value="TJ">Tajikistan</option>
                    <option value="TZ">Tanzania, United Republic of</option>
                    <option value="TH">Thailand</option>
                    <option value="TL">Timor-Leste</option>
                    <option value="TG">Togo</option>
                    <option value="TK">Tokelau</option>
                    <option value="TO">Tonga</option>
                    <option value="TT">Trinidad and Tobago</option>
                    <option value="TN">Tunisia</option>
                    <option value="TR">Turkey</option>
                    <option value="TM">Turkmenistan</option>
                    <option value="TC">Turks and Caicos Islands</option>
                    <option value="TV">Tuvalu</option>
                    <option value="UG">Uganda</option>
                    <option value="UA">Ukraine</option>
                    <option value="AE">United Arab Emirates</option>
                    <option value="GB">United Kingdom</option>
                    <option value="US">United States</option>
                    <option value="UM">United States Minor Outlying Islands</option>
                    <option value="UY">Uruguay</option>
                    <option value="UZ">Uzbekistan</option>
                    <option value="VU">Vanuatu</option>
                    <option value="VE">Venezuela</option>
                    <option value="VN">Viet Nam</option>
                    <option value="VG">Virgin Islands, British</option>
                    <option value="VI">Virgin Islands, U.s.</option>
                    <option value="WF">Wallis and Futuna</option>
                    <option value="EH">Western Sahara</option>
                    <option value="YE">Yemen</option>
                    <option value="ZM">Zambia</option>
                    <option value="ZW">Zimbabwe</option>
                    </select></p>
-->
					<div class="clear"></div>
					<a href='#' id='billingAddressClick'><input style="width:61px; float:right; cursor: pointer" type="submit" name="submit" value="Submit"></a>									
				</div>
				
<!--				{/exp:user:edit} -->
				
				<br><br>	
					
				<div class="grid_5 nomarg">
                    <h2>Payment Management</h2>
                    <div class="clear"></div>
                    <div class="editprofile_subtitle">Payment Type: </div>
                    <p><select id="paymenttype" name="paymenttype">
                    <option value="">Select...</option>
                    <option value="ADD_CC">Add a Credit Card</option>
                    <option value="ADD_BA">Add a Bank Account</option>
                    </select></p>                                    
                    <div class="clear"></div>
<!--                    
					<div class="editprofile_subtitle">Payment Type:</div>
                    <p><input type="radio" name="rpaymenttype" value="creditcard" /> Credit Card
					<input type="radio" name="rpaymenttype" value="bankaccount" /> Check</p>
                    <div class="clear"></div>
-->                    
					<!-- Credit Card Section -->
                <div id="ccsection" style="display:none">
                    <div class="editprofile_subtitle">Card Type: </div>
                    <p><select id="cardtype" name="cardtype">
                    <option value="">Select...</option>
                    <option value="VISA">Visa</option>
                    <option value="MC">Master Card</option>
                    <option value="AMEX">American Express</option>
                    <option value="DISCOVER">Discover</option>
                    </select></p>                                    
                    <div class="clear"></div>
                    <div class="editprofile_subtitle">Card Holder's Name:</div><p><input id="cardname" name="cardname" ></p>
                    <div class="editprofile_subtitle">Card Number:</div><p><input id="cardnumber" name="cardnumber" ></p>
                    <div class="editprofile_subtitle">Exp. Month/Year: </div>
                    <p><select id="cardexpmonth" name="cardexpmonth">
                    <option value="">Select...</option>
                    <option value="01">1</option>
                    <option value="02">2</option>
                    <option value="03">3</option>
                    <option value="04">4</option>
                    <option value="05">5</option>
                    <option value="06">6</option>
                    <option value="07">7</option>
                    <option value="08">8</option>
                    <option value="09">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    </select> / <select id="cardexpyear" name="cardexpyear">
                    <option value="">Select...</option>
                    <option value="2012">2012</option>
                    <option value="2013">2013</option>
                    <option value="2014">2014</option>
                    <option value="2015">2015</option>
                    <option value="2016">2016</option>
                    <option value="2017">2017</option>
                    <option value="2018">2018</option>
                    <option value="2019">2019</option>
                    </select></p>                                    
                    <div class="clear"></div>
                    <div class="editprofile_subtitle">Make Inactive: </div>
                    <input type="checkbox" id="ccstatus" name="ccstatus" value="inactive" /> 
                    <div class="clear"></div>  

                </div>
                    
                    <!-- ACH (eCheck) Section -->
                <div id="basection" style="display:none">
                    <div class="editprofile_subtitle">Bank Name:</div><p><input id="bankname" name="bankname" ></p>
                    <div class="editprofile_subtitle">Routing Number:</div><p><input id="bankrtnumber" name="bankrtnumber" ></p>
                    <div class="editprofile_subtitle">Account Number:</div><p><input id="bankacctnumber" name="bankacctnumber" ></p>
                    <div class="editprofile_subtitle">Account Type: </div>
                    <p><select id="bankaccttype" name="bankaccttype">
                    <option value="">Select...</option>
                    <option value="CHECKING">Checking</option>
                    <option value="SAVINGS">Savings</option>
                    </select></p>                                    
                    <div class="clear"></div>                    
                    <div class="editprofile_subtitle">Make Inactive: </div>
                    <input type="checkbox" id="bastatus" name="bastatus" value="inactive" /> 
                    <div class="clear"></div>  
                </div>
                
					<a href='#' id='paymentMgmtClick'><input style="width:61px; float:right; cursor: pointer" type="submit" name="submit" value="Submit"></a>									
				</div>
				
				<br><br>	
					
				<div class="grid_5 nomarg">
                    <h2>Give Now</h2>
                    <div class="clear"></div>
                    <div class="editprofile_subtitle">Pick Payment: </div>
                    <p><select id="pickpaymenttype" name="pickpaymenttype">
                    <option value="">Select...</option>
<!--                    <option value="6">BoA ending with 8852</option>
                    <option value="4999">Visa ending with 0978</option> -->
                    </select></p>                                    
                    <div class="clear"></div>
                    <div class="editprofile_subtitle">Payment Frequency:</div><p><input type="radio" name="frequency" value="ONCE" /> One Time
<input type="radio" name="frequency" value="WEEKLY" /> Weekly
<input type="radio" name="frequency" value="BIWEEKLY" /> Bi-Weekly
<input type="radio" name="frequency" value="MONTHLY" /> Monthly</p>
                    <div class="editprofile_subtitle">Day of Week: </div><p><select id="dayweekly" name="dayweekly">
                    <option value="">Select...</option>
                    <option value="1">Sunday</option>
                    <option value="2">Monday</option>
                    <option value="3">Tuesday</option>
                    <option value="4">Wednesday</option>
                    <option value="5">Thursday</option>
                    <option value="6">Friday</option>
                    <option value="7">SaturSunday</option>
                    </select></p>                                    
                    <div class="clear"></div>
                    <div class="editprofile_subtitle">Day of Month: </div><p><select id="daymonthly" name="daymonthly">
                    <option value="">Select...</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                    <option value="27">27</option>
                    <option value="28">28</option>
                    <option value="29">29 (or last day of month)</option>
                    <option value="30">30 (or last day of month)</option>
                    <option value="31">32 (or last day of month)</option>
                    </select></p>                                    
                    <div class="clear"></div>
                    
                    <div class="editprofile_subtitle">TITHE (General Giving):</div><p><input id="fundamount0" name="fundamount0" ></p>
                    <div class="editprofile_subtitle">OFFERING (Missions/Service):</div><p><input id="fundamount1" name="fundamount1" ></p>
                    <div class="clear"></div>
                    <div class="editprofile_subtitle">Total:</div><p><input id="totalamount" name="totalamount"></p>
                    <div class="clear"></div>
                    <div class="editprofile_subtitle">Place of Worship: </div><p><select id="place_of_worship" name="place_of_worship">
                    <option value="">Select...</option>
                    <option value="Northland at Longwood">Northland at Longwood</option>
                    <option value="Northland at Mount Dora">Northland at Mount Dora</option>
                    <option value="Northland at Oviedo">Northland at Oviedo</option>
                    <option value="Northland at West Oaks">Northland at West Oaks</option>
                    <option value="Web Worship">Web Worship</option>
                    <option value="Other">Other</option>
					</select></p>                                    
                    <div class="clear"></div>                    
                    <div class="editprofile_subtitle">Comments: </div><p><textarea id="comments" name="comments" rows="6" cols="30"></textarea>
                    <div class="clear"></div>                    
					<a href='#' id='submitPayClick'><input style="width:61px; float:right; cursor: pointer" type="submit" name="submit" value="Submit"></a>									
				</div>
				
			</div>
		</div>
					
		<div class="clear"></div>
					{embed="_component/divider"}
	</div>
	{/if}

</div>
<div class="clear"></div>
 

{embed="_includes/footer"}
{embed="_includes/html_close"}